
html_content = '''
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Simulateur Autoconsommation Collective</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      background: #eaf4f2;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    header {
      background-color: #2c3e50;
      color: white;
      width: 100%;
      padding: 20px;
      text-align: center;
    }
    header img {
      height: 50px;
      vertical-align: middle;
      margin-right: 10px;
    }
    main {
      background: white;
      padding: 30px;
      margin: 30px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      max-width: 600px;
      width: 90%;
    }
    h1 {
      color: #27ae60;
      text-align: center;
    }
    label, select, input {
      display: block;
      margin: 10px 0;
      width: 100%;
      padding: 8px;
      font-size: 16px;
    }
    button {
      background-color: #27ae60;
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      border-radius: 5px;
      margin-top: 10px;
    }
    button:hover {
      background-color: #219150;
    }
    .result {
      margin-top: 20px;
      padding: 15px;
      background: #dff0d8;
      border-left: 5px solid #27ae60;
    }
    footer {
      background-color: #2c3e50;
      color: white;
      text-align: center;
      padding: 15px;
      width: 100%;
      position: relative;
      bottom: 0;
    }
  </style>
</head>
<body>
  <header>
    <img src="https://via.placeholder.com/50" alt="Logo">
    <span><strong>Énergie Collective</strong></span>
  </header>
  <main>
    <h1>Simulateur d'Autoconsommation Collective</h1>
    <label>Consommation annuelle (kWh):</label>
    <input type="number" id="consommation" placeholder="Ex: 4500">

    <label>Code postal:</label>
    <input type="text" id="codePostal" placeholder="Ex: 29910">

    <label>Type de logement:</label>
    <select id="logement">
      <option value="maison">Maison individuelle</option>
      <option value="appartement">Appartement</option>
    </select>

    <button onclick="calculer()">Calculer</button>

    <div class="result" id="resultat"></div>
  </main>
  <footer>
    <p>Énergie Collective - contact@energiecollective.fr - 01 23 45 67 89</p>
  </footer>

  <script>
    function calculer() {
      const conso = parseFloat(document.getElementById("consommation").value);
      const logement = document.getElementById("logement").value;
      const codePostal = document.getElementById("codePostal").value;

      if (isNaN(conso) || !codePostal) {
        alert("Veuillez remplir tous les champs correctement.");
        return;
      }

      const prixKWh = 0.25;
      const reduction = 0.20;
      const coutInstallationParKWc = 2000;
      const productionParKWc = 1100;
      const duree = 20;

      let partLocale = logement === "maison" ? 0.6 : 0.4;
      if (codePostal.startsWith("29")) partLocale += 0.1;
      if (partLocale > 0.8) partLocale = 0.8;

      const energieLocale = conso * partLocale;
      const economieAnnuelle = energieLocale * prixKWh * reduction;

      const puissanceKWc = conso / productionParKWc;
      const coutInstallation = puissanceKWc * coutInstallationParKWc;

      const economieTotale = economieAnnuelle * duree;
      const TRI = ((economieTotale - coutInstallation) / coutInstallation * 100).toFixed(1);

      document.getElementById("resultat").innerHTML = `
        <strong>Résultats :</strong><br>
        Part d'énergie locale estimée : ${(partLocale * 100).toFixed(0)} %<br>
        Économies annuelles estimées : ${economieAnnuelle.toFixed(2)} €<br>
        Coût d'installation estimé : ${coutInstallation.toFixed(0)} €<br>
        TRI sur 20 ans : ${TRI} %
      `;
    }
  </script>
</body>
</html>
'''

with open("index.html", "w", encoding="utf-8") as f:
    f.write(html_content)

print("Le fichier index.html est prêt à être uploadé sur GitHub Pages.")
